import{c as f,r as d,j as e,L as g}from"./index-D70Gt-xU.js";import{L as p}from"./index-1y5QvWtY.js";import{H as u}from"./house-C0u_LtDq.js";import{C as y}from"./calendar-Ci5bPK8z.js";const j=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],b=f("image",j),N=i=>{const m=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,n=i.match(m);if(!n)return{data:{},content:i};const x=n[1],s=n[2],l={};return x.split(`
`).forEach(a=>{const r=a.indexOf(":");if(r>-1){const o=a.slice(0,r).trim();let t=a.slice(r+1).trim();t.startsWith("[")&&t.endsWith("]")?l[o]=t.slice(1,-1).split(",").map(c=>c.trim()):(t.startsWith('"')&&t.endsWith('"')&&(t=t.slice(1,-1)),l[o]=t)}}),{data:l,content:s}},h=()=>{const[i,m]=d.useState([]),[n,x]=d.useState(!0);return d.useEffect(()=>{const s=["2025-09-01-1"];(async()=>{try{const a=await Promise.all(s.map(async r=>{const t=await(await fetch(`/data/gallery/${r}/index.md`)).text(),{data:c}=N(t);return{id:r,title:c.title||"No Title",date:c.date||"",thumb:c.thumb||"",tags:c.tags||[]}}));m(a.sort((r,o)=>o.date.localeCompare(r.date)))}catch(a){console.error("Failed to load galleries:",a)}finally{x(!1)}})()},[]),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"relative w-full h-332 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/images/banner/4.png)"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsx("div",{className:"relative h-full flex items-center justify-center",children:e.jsx("h1",{className:"text-[36px] font-semibold text-white text-center",children:"Gallery"})})]}),e.jsx("div",{className:"max-w-1480 mx-auto w-full px-20 py-40",children:e.jsxs("div",{className:"flex items-center gap-10",children:[e.jsx(g,{to:"/",className:"text-gray-400 hover:text-primary transition-colors",children:e.jsx(u,{size:16})}),e.jsx("span",{className:"text-[#cdcdcd]",children:"›"}),e.jsx("span",{className:"text-base text-gray-400",children:"Archives"}),e.jsx("span",{className:"text-[#cdcdcd]",children:"›"}),e.jsx("span",{className:"text-base text-primary font-medium",children:"Gallery"})]})}),e.jsx("div",{className:"max-w-1480 mx-auto w-full px-20 pb-100",children:n?e.jsx("div",{className:"bg-[#f9fafb] rounded-[20px] p-60 text-center text-gray-500 font-medium",children:"Loading galleries from markdown files..."}):i.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-20",children:i.map(s=>e.jsxs("div",{className:"bg-white border border-[#f0f0f0] rounded-[20px] overflow-hidden hover:shadow-lg transition-shadow cursor-pointer group",children:[e.jsx("div",{className:"aspect-[4/3] bg-[#f9fafb] flex items-center justify-center overflow-hidden",children:s.thumb?e.jsx("img",{src:`/data/gallery/${s.id}/${s.thumb}`,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx(b,{className:"size-40 text-[#cdcdcd]"})}),e.jsxs("div",{className:"p-20",children:[e.jsxs("div",{className:"flex items-center gap-8 mb-8",children:[e.jsx(y,{className:"size-14 text-primary"}),e.jsx("span",{className:"text-sm font-medium text-primary",children:s.date})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-12",children:s.title}),e.jsx("div",{className:"flex flex-wrap gap-6",children:s.tags.map((l,a)=>e.jsxs("span",{className:"px-10 py-4 bg-gray-50 text-gray-500 text-xs rounded-full border border-gray-100",children:["#",l]},a))})]})]},s.id))}):e.jsx("div",{className:"bg-[#f9fafb] rounded-[20px] p-60 text-center text-gray-500",children:"No gallery items found in markdown folder."})})]})};d.memo(h);const G=()=>e.jsx(p,{children:e.jsx(h,{})});export{G as ArchivesGallery};
