import{c as j,r as n,u as H,j as e,L as J}from"./index-D70Gt-xU.js";import{C as q,L as B}from"./index-1y5QvWtY.js";import{F as Y}from"./file-text-csG1T3oW.js";import{B as K}from"./book-open-B28PS0ff.js";import{H as V}from"./house-C0u_LtDq.js";import{S as D}from"./search-DgPS6TSz.js";import{C as U}from"./chevron-up-CSucXo27.js";import{C as G}from"./chevron-left-CSmiCVsC.js";import{C as W}from"./chevron-right-BLFscIbJ.js";import{C as Q}from"./copy-CY1_UGiV.js";const X=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Z=j("chart-column",X);const ee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],se=j("check",ee);const te=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],ae=j("file-check",te);const re=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],le=j("message-square",re);const ne=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],oe=j("sliders-horizontal",ne),ie=({filters:m,onChange:u,onReset:p})=>{const f=[{key:"type",label:"Publication Type",options:["Journal","Conference","Book","Report"]},{key:"indexing",label:"Journal Indexing",options:["SCIE","SSCI","A&HCI","ESCI","Scopus","Other International","KCI Excellent","KCI Accredited","Other Domestic","Preprint"]},{key:"conference",label:"Conference",options:["International Conference","Domestic Conference"]}];return e.jsxs("div",{className:"flex flex-col gap-20 p-20",children:[f.map(d=>e.jsxs("div",{className:"flex flex-col gap-16",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900",children:d.label}),e.jsx("div",{className:"flex flex-wrap gap-8",children:d.options.map(o=>{const i=m[d.key].includes(o);return e.jsx("button",{onClick:()=>u(d.key,o),className:`px-16 py-8 rounded-lg text-sm font-medium transition-all border ${i?"bg-primary text-white border-primary shadow-sm":"bg-white text-[#7f8894] border-[#f0f0f0] hover:border-primary/30 hover:bg-gray-50"}`,children:o},o)})})]},d.key)),e.jsx("div",{className:"flex justify-end pt-16 border-t border-gray-100",children:e.jsx("button",{onClick:p,className:"px-16 py-8 text-sm font-medium text-gray-400 hover:text-primary transition-colors flex items-center gap-4",children:"Reset all filters"})})]})},ce=({citation:m})=>{const[u,p]=n.useState(null),f=(o,i)=>{navigator.clipboard.writeText(o),p(i),setTimeout(()=>p(null),2e3)},d=[{key:"apa",label:"APA"},{key:"mla",label:"MLA"},{key:"chicago",label:"Chicago"},{key:"harvard",label:"Harvard"},{key:"vancouver",label:"Vancouver"},{key:"korean",label:"Korean"}];return e.jsx("div",{className:"flex flex-col gap-24 p-24",children:d.map(o=>{const i=m[o.key];return i?e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider",children:o.label}),e.jsx("button",{onClick:()=>f(i,o.key),className:"flex items-center gap-4 text-xs font-medium text-primary hover:underline",children:u===o.key?e.jsxs(e.Fragment,{children:[e.jsx(se,{size:14}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{size:14}),"Copy Citation"]})})]}),e.jsx("div",{className:"p-16 bg-gray-50 rounded-xl border border-gray-100 text-sm text-gray-600 leading-relaxed break-words",children:i.replace(/<\/?em>/g,"")})]},o.key):null})})},de=[{label:"연구 책임자",subLabel:"Principal Investigator"},{label:"책임 연구원",subLabel:"Leading Researcher"},{label:"참여 연구원",subLabel:"Researcher"},{label:"지도교수",subLabel:"Advisor"},{label:"제1저자",subLabel:"First Author"},{label:"제2저자 / 공동저자",subLabel:"Second / Co-author"},{label:"제3저자",subLabel:"Third Author"},{label:"교신저자",subLabel:"Corresponding Author"}],A=()=>{const[m,u]=n.useState([]),[p,f]=n.useState({}),[d,o]=n.useState(null),[i,b]=n.useState(1),[N,F]=n.useState(""),[x,M]=n.useState({type:[],indexing:[],conference:[]}),[k,S]=n.useState(!1),[P,z]=n.useState(!0),{showModal:I}=H(),E=n.useCallback((s,t)=>{M(r=>{const a=r[s],l=a.includes(t)?a.filter(c=>c!==t):[...a,t];return{...r,[s]:l}}),b(1)},[]),R=n.useCallback(()=>{M({type:[],indexing:[],conference:[]}),b(1)},[]),C=5;n.useEffect(()=>{const s=async t=>{const l=(await(await fetch(t)).text()).replace(/,(\s*[\}\]])/g,"$1");return JSON.parse(l)};Promise.all([s("/data/pubs.json"),s("/data/authors.json")]).then(([t,r])=>{if(u(t),f(r),t.length>0){const a=[...new Set(t.map(l=>l.year))].sort((l,c)=>c-l);o(a[0])}z(!1)}).catch(t=>{console.error("Failed to load publications data:",t),z(!1)})},[]);const $=n.useMemo(()=>{let s=0,t=0,r=0,a=0;return m.forEach(l=>{l.type==="journal"?s++:l.type==="conference"?t++:l.type==="book"?r++:l.type==="report"&&a++}),[{label:"저널 논문",subLabel:"Journal Papers",count:s,icon:Y},{label:"컨퍼런스",subLabel:"Conferences",count:t,icon:le},{label:"서적",subLabel:"Books",count:r,icon:K},{label:"리포트",subLabel:"Reports",count:a,icon:ae},{label:"총량",subLabel:"Total Outputs",count:m.length,icon:Z}]},[m]),O=n.useCallback((s,t)=>s.map((r,a)=>{const l=p[String(r)],c=t[a]||"";return l?{name:l.ko,mark:c}:{name:`Unknown (${r})`,mark:c}}),[p]),w=n.useMemo(()=>{let s=m;if(N.trim()){const t=N.toLowerCase();s=s.filter(r=>{const a=r.title.toLowerCase().includes(t)||r.title_ko.toLowerCase().includes(t),l=r.venue.toLowerCase().includes(t)||r.venue_ko.toLowerCase().includes(t),c=r.authors.some(h=>{const g=p[String(h)];return g&&(g.en.toLowerCase().includes(t)||g.ko.toLowerCase().includes(t))});return a||l||c})}return x.type.length>0&&(s=s.filter(t=>x.type.some(r=>r.toLowerCase()===t.type.toLowerCase()))),x.indexing.length>0&&(s=s.filter(t=>t.indexing_group?x.indexing.includes(t.indexing_group):!1)),x.conference.length>0&&(s=s.filter(t=>t.indexing_group?x.conference.includes(t.indexing_group):!1)),s},[m,N,p,x]),y=n.useMemo(()=>{const s={};return w.forEach(t=>{s[t.year]||(s[t.year]=[]),s[t.year].push(t)}),s},[w]),L=n.useMemo(()=>Object.keys(y).map(Number).sort((s,t)=>t-s),[y]),_=n.useMemo(()=>{const s=(i-1)*C;return L.slice(s,s+C)},[L,i]),v=Math.ceil(L.length/C),T=n.useCallback(s=>{const t=y[s]||[];let r=0,a=0,l=0,c=0;return t.forEach(h=>{h.type==="journal"?r++:h.type==="conference"?a++:h.type==="report"?l++:h.type==="book"&&c++}),{journals:r,conferences:a,reports:l,books:c}},[y]);return e.jsxs("div",{className:"flex flex-col bg-white",children:[e.jsxs("div",{className:"relative w-full h-332 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/images/banner/3.png)"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsx("div",{className:"relative h-full flex items-center justify-center",children:e.jsx("h1",{className:"text-[36px] font-semibold text-white text-center",children:"Publications"})})]}),e.jsx("div",{className:"max-w-1480 mx-auto w-full px-20 py-40",children:e.jsxs("div",{className:"flex items-center gap-10",children:[e.jsx(J,{to:"/",className:"text-gray-400 hover:text-primary transition-colors",children:e.jsx(V,{size:16})}),e.jsx("span",{className:"text-[#cdcdcd]",children:"›"}),e.jsx("span",{className:"text-base text-primary font-medium",children:"Publications"})]})}),e.jsx("section",{className:"pb-80 px-20",children:e.jsxs("div",{className:"max-w-1480 mx-auto flex flex-col gap-40",children:[e.jsxs("div",{className:"flex flex-col gap-20",children:[e.jsx("div",{className:"flex items-center gap-8",children:e.jsx("h2",{className:"text-[26px] font-semibold text-gray-900",children:"Statistics"})}),e.jsx("div",{className:"grid grid-cols-5 gap-20",children:$.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between px-20 py-24 bg-white border border-gray-100 rounded-2xl shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx(s.icon,{className:"size-20 text-gray-500"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-md font-semibold text-gray-900",children:s.label}),e.jsx("span",{className:"text-sm text-gray-500",children:s.subLabel})]})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-[24px] font-semibold text-primary",children:s.count}),e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"건"})]})]},t))})]}),e.jsxs("div",{className:"flex flex-col gap-20",children:[e.jsx("div",{className:"flex items-center gap-8",children:e.jsx("h2",{className:"text-[26px] font-semibold text-gray-900",children:"Authorship Remarks"})}),e.jsx("div",{className:"grid grid-cols-4 gap-20",children:de.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-16 px-20 py-20 bg-white border border-gray-100 rounded-2xl shadow-sm",children:[e.jsx("div",{className:"size-46 flex-shrink-0",children:e.jsx("img",{src:`/images/icons/publications/${t+1}.png`,alt:s.label,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-base font-semibold text-gray-900",children:s.label}),e.jsx("span",{className:"text-xs text-gray-500",children:s.subLabel})]})]},t))})]}),e.jsxs("div",{className:"flex items-center gap-20 relative z-30",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>S(!k),className:`flex items-center gap-8 px-16 py-16 border rounded-xl text-base transition-all ${k||x.type.length>0||x.indexing.length>0||x.conference.length>0?"bg-primary/5 border-primary text-primary font-medium":"bg-white border-gray-100 text-gray-500 hover:bg-gray-50"}`,children:["Filters",e.jsx(oe,{className:"size-20"})]}),k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>S(!1)}),e.jsx("div",{className:"absolute top-[calc(100%+12px)] left-0 w-[1000px] bg-white border border-gray-100 rounded-2xl shadow-xl z-20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:e.jsx(ie,{filters:x,onChange:E,onReset:R})})]})]}),e.jsxs("div",{className:"flex-1 flex items-center px-16 py-16 bg-white border border-gray-100 rounded-xl focus-within:border-primary transition-colors",children:[e.jsx("input",{type:"text",placeholder:"Search by title, author, venue...",className:"flex-1 text-base text-gray-700 outline-none",value:N,onChange:s=>F(s.target.value)}),e.jsx(D,{className:"size-20 text-gray-500"})]}),e.jsxs("div",{className:"px-16 py-16 bg-gray-50 border border-gray-100 rounded-xl text-base font-medium text-gray-500",children:[w.length," of ",m.length]})]}),P?e.jsx("div",{className:"bg-gray-50 rounded-2xl p-60 text-center",children:e.jsx("p",{className:"text-md text-gray-500",children:"Loading publications..."})}):_.length>0?e.jsx("div",{className:"flex flex-col gap-16",children:_.map(s=>{const t=T(s),r=y[s]||[];return e.jsxs("div",{className:"border border-gray-100 rounded-2xl overflow-hidden shadow-sm",children:[e.jsxs("button",{onClick:()=>o(d===s?null:s),className:"w-full flex items-center justify-between px-24 py-20 bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-start gap-4",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:s}),e.jsxs("span",{className:"text-base text-gray-500",children:[t.journals," Journals · ",t.conferences," Conferences · ",t.reports," Reports · ",t.books," Books"]})]}),d===s?e.jsx(U,{className:"size-20 text-gray-500"}):e.jsx(q,{className:"size-20 text-gray-500"})]}),d===s&&e.jsx("div",{className:"flex flex-col",children:r.map((a,l)=>{const c=O(a.authors,a.author_marks);return e.jsx("div",{className:"p-24 bg-white border-t border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-16",children:[e.jsx("div",{className:`px-10 py-4 rounded-lg text-xs font-medium flex-shrink-0 ${a.type==="journal"?"bg-blue-100 text-blue-700":a.type==="conference"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:a.type==="journal"?"Journal":a.type==="conference"?"Conference":a.type}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 mb-8 leading-relaxed",children:a.title}),a.title_ko&&e.jsx("p",{className:"text-base text-gray-600 mb-8",children:a.title_ko}),e.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:c.map((h,g)=>e.jsxs("span",{className:"text-sm text-gray-600",children:[h.name,h.mark&&e.jsx("sup",{className:"text-primary ml-1",children:h.mark}),g<c.length-1&&", "]},g))}),e.jsx("p",{className:"text-sm text-gray-500 italic",children:a.venue}),a.doi&&e.jsxs("a",{href:`https://doi.org/${a.doi}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline mt-4 inline-block",children:["DOI: ",a.doi]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-12",children:[e.jsx("div",{className:"text-base text-gray-500 whitespace-nowrap",children:a.published_date}),e.jsx("button",{onClick:()=>I({title:"Citation Formats",maxWidth:"600px",children:e.jsx(ce,{citation:a.citations})}),className:"flex items-center gap-6 px-12 py-6 bg-gray-50 border border-gray-100 rounded-lg text-xs font-medium text-gray-600 hover:bg-primary/10 hover:text-primary transition-colors",children:"Cite"})]})]})},l)})})]},s)})}):e.jsx("div",{className:"bg-gray-50 rounded-2xl p-60 text-center",children:e.jsx("p",{className:"text-md text-gray-500",children:"검색 결과가 없습니다."})}),v>1&&e.jsxs("div",{className:"flex items-center justify-center gap-8",children:[e.jsx("button",{onClick:()=>b(Math.max(1,i-1)),disabled:i===1,className:"size-40 flex items-center justify-center text-gray-500 hover:text-gray-700 disabled:opacity-50",children:e.jsx(G,{className:"size-20"})}),Array.from({length:v},(s,t)=>t+1).map(s=>e.jsx("button",{onClick:()=>b(s),className:`size-40 flex items-center justify-center rounded-xl text-base ${i===s?"bg-primary/10 border border-primary text-primary":"text-gray-500 hover:bg-gray-100"}`,children:s},s)),e.jsx("button",{onClick:()=>b(Math.min(v,i+1)),disabled:i===v,className:"size-40 flex items-center justify-center text-gray-500 hover:text-gray-700 disabled:opacity-50",children:e.jsx(W,{className:"size-20"})})]})]})})]})};n.memo(A);const Ne=()=>e.jsx(B,{children:e.jsx(A,{})});export{Ne as Publications};
